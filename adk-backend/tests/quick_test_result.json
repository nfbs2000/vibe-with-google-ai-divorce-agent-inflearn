{
  "answer": "ì œê³µëœ ì •ë³´ì—ëŠ” ADK(Agent Development Kit)ì—ì„œ \"sub-agent\"ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ë‹¨ê³„ë‚˜ ì§€ì¹¨ì´ ëª…ì‹œë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.\n\në‹¤ë§Œ, ADKì˜ ë§¥ë½ì—ì„œ ì—¬ëŸ¬ ì—ì´ì „íŠ¸(`Security Agent`, `Conversion Agent`, `Marketing Agent`, `Audio Analytics Agent`, `DevSecOps Agent`, `Conversational Agent`)ê°€ ì–¸ê¸‰ë˜ë©°, ê¸°ì¡´ ì—ì´ì „íŠ¸ì˜ ê¸°ëŠ¥ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ìƒˆë¡œìš´ ë„êµ¬(ì˜ˆ: `infra_security.py` íŒŒì¼ì— ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„êµ¬ ì¶”ê°€)ë¥¼ ê°œë°œí•˜ëŠ” ê³¼ì •ì´ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ê°€ì§„ ëª¨ë“ˆì´ë‚˜ ë„êµ¬ë¥¼ ê°œë°œí•˜ì—¬ ê¸°ì¡´ ì—ì´ì „íŠ¸ì— í†µí•©í•˜ëŠ” ë°©ì‹ì¼ ìˆ˜ ìˆìœ¼ë©°, \"sub-agent\"ë¼ëŠ” ìš©ì–´ê°€ ì´ëŸ¬í•œ ëª¨ë“ˆí™”ëœ ê¸°ëŠ¥ ë‹¨ìœ„ë¥¼ ì§€ì¹­í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\në§Œì•½ \"sub-agent\"ê°€ ê¸°ì¡´ ì—ì´ì „íŠ¸ ë‚´ì—ì„œ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” í•˜ìœ„ ëª¨ë“ˆì´ë‚˜ ë„êµ¬ë¥¼ ì˜ë¯¸í•œë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n1.  **ìƒˆë¡œìš´ ê¸°ëŠ¥ ì •ì˜**: sub-agentê°€ ìˆ˜í–‰í•  íŠ¹ì • ì‘ì—…ì´ë‚˜ ê¸°ëŠ¥ì„ ì •ì˜í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Terraform ì½”ë“œì˜ ë³´ì•ˆ ì´ìŠˆë¥¼ íƒì§€í•˜ëŠ” `security_checklist_scan` í•¨ìˆ˜ì™€ ê°™ì€ ë„êµ¬ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.\n2.  **ë„êµ¬(Tool) ê°œë°œ**: ì •ì˜ëœ ê¸°ëŠ¥ì„ Python ì½”ë“œ ë“±ìœ¼ë¡œ êµ¬í˜„í•˜ê³ , `adk-backend/src/adk_backend/tools/`ì™€ ê°™ì€ ê´€ë ¨ ê²½ë¡œì— ì¶”ê°€í•©ë‹ˆë‹¤. ì´ ë„êµ¬ëŠ” ì—ì´ì „íŠ¸ê°€ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ì‘ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n3.  **ì—ì´ì „íŠ¸ì— í†µí•©**: ê°œë°œëœ ë„êµ¬ë¥¼ ê¸°ì¡´ ì—ì´ì „íŠ¸ì˜ ë¡œì§ì— í†µí•©í•˜ì—¬, ì—ì´ì „íŠ¸ê°€ í•„ìš”í•  ë•Œ í•´ë‹¹ ë„êµ¬ë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ë¥¼ í™œìš©í•˜ë„ë¡ êµ¬ì„±í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ \"sub-agent\"ì˜ ì •í™•í•œ ì •ì˜ì™€ ìƒì„± ì ˆì°¨ëŠ” í˜„ì¬ ìë£Œì—ì„œ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
  "citations": [
    {
      "source": "IMPROVEMENT_CYCLE.md",
      "content": "4. í”„ë¡œë•ì…˜ ë°°í¬\nkubectl apply -f k8s/prod/\n\n# 5. ëª¨ë‹ˆí„°ë§\n# - Groundedness ì ìˆ˜ ì¶”ì \n# - ì‚¬ìš©ì ë§Œì¡±ë„ ì¶”ì \n# - ì—ëŸ¬ìœ¨ ëª¨ë‹ˆí„°ë§\n```\n\n---\n\n## ğŸ¯ ì‹œë‚˜ë¦¬ì˜¤ 2: DevSecOps Agent - Security Issue Detection ë¬¸ì œ\n\n#### 1ë‹¨ê³„: í‰ê°€ (ë¬¸ì œ ë°œê²¬)\n\n**Vertex AI í‰ê°€ ê²°ê³¼**:\n```json\n{\n \"security_issue_detection\": 0.45, // âŒ ë‚®ìŒ! (ëª©í‘œ: 0.9)\n \"iac_best_practices\": 0.78,\n \"terraform_syntax_accuracy\": 0.95\n}\n```\n\n**ë¬¸ì œ**: ë³´ì•ˆ ì´ìŠˆ íƒì§€ìœ¨ì´ 45%ë¡œ ë‚®ìŒ â†’ ì ˆë°˜ ì´ìƒì˜ ë³´ì•ˆ ì´ìŠˆë¥¼ ë†“ì¹¨\n\n---\n\n#### 2ë‹¨ê³„: ë¶„ì„ (ì›ì¸ íŒŒì•…)\n\n**ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:\n```yaml\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤: \"Terraform ì½”ë“œì˜ ë³´ì•ˆ ì´ìŠˆë¥¼ ì°¾ì•„ì¤˜\"\n\nGround Truth (ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ì´ìŠˆ 5ê°œ):\n 1. âœ… IAM ê¶Œí•œ ë„ˆë¬´ ê´‘ë²”ìœ„ (roles/owner)\n 2. âŒ Service Account í‚¤ í•˜ë“œì½”ë”©\n 3. âŒ ì•”í˜¸í™” ë¯¸ì„¤ì •\n 4. âŒ Public ì•¡ì„¸ìŠ¤ í—ˆìš© (allUsers)\n 5. âŒ ë¡œê¹… ë¹„í™œì„±í™”\n\nì—ì´ì „íŠ¸ ë°œê²¬í•œ ì´ìŠˆ:\n - \"IAM ê¶Œí•œ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤\" (1ê°œë§Œ, ëª¨í˜¸)\n\níƒì§€ìœ¨: 1/5 = 0.2 (20%)\n\në¬¸ì œ ì›ì¸:\n âŒ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¶€ì¡±: ì²´ê³„ì ì¸ ë³´ì•ˆ ê²€í†  ì—†ìŒ\n âŒ íŒ¨í„´ ì¸ì‹ ë¶€ì¡±: í•˜ë“œì½”ë”© ë¹„ë°€, Public ì•¡ì„¸ìŠ¤ ë¯¸íƒì§€\n âŒ ìš°ì„ ìˆœìœ„ ë¶€ì¬: ì‹¬ê°ë„ êµ¬ë¶„ ì—†ìŒ\n```\n\n---\n\n#### 3ë‹¨ê³„: ê°œì„  (ì½”ë“œ ìˆ˜ì •)\n\n##### ê°œì„  A: ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„êµ¬ ì¶”ê°€\n\n**íŒŒì¼**: `/Users/pio/Documents/vibe-with-bigquery/adk-backend/src/adk_backend/tools/infra_security.py` (ì‹ ê·œ)\n\n```python\n\"\"\"\nì¸í”„ë¼ ë³´ì•ˆ ê²€ì‚¬ ë„êµ¬\n\"\"\"\nimport re\nfrom typing import Dict, List\n\n\ndef security_checklist_scan(terraform_code: str) -> Dict:\n \"\"\"\n ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ Terraform ì½”ë“œ ìŠ¤ìº”\n\n Args:\n terraform_code: Terraform ì½”ë“œ ì „ì²´ ë‚´ìš©\n\n Returns:\n ë°œê²¬ëœ ë³´ì•ˆ ì´ìŠˆ ë° ê¶Œì¥ì‚¬í•­\n \"\"\"\n issues = []\n\n # 1. IAM ê¶Œí•œ ê³¼ë‹¤ ì²´í¬\n if re.search(r'roles/(owner|editor)', terraform_code):\n issues.append({\n \"severity\": \"HIGH\",\n \"category\": \"IAM_OVERPRIVILEGED\",\n \"message\":",
      "fileSearchStore": "fileSearchStores/vibebigquerysecurityintelv1-35rbcgvsoufh"
    },
    {
      "source": "IMPROVEMENT_CYCLE.md",
      "content": "4. í”„ë¡œë•ì…˜ ë°°í¬\nkubectl apply -f k8s/prod/\n\n# 5. ëª¨ë‹ˆí„°ë§\n# - Groundedness ì ìˆ˜ ì¶”ì \n# - ì‚¬ìš©ì ë§Œì¡±ë„ ì¶”ì \n# - ì—ëŸ¬ìœ¨ ëª¨ë‹ˆí„°ë§\n```\n\n---\n\n## ğŸ¯ ì‹œë‚˜ë¦¬ì˜¤ 2: DevSecOps Agent - Security Issue Detection ë¬¸ì œ\n\n#### 1ë‹¨ê³„: í‰ê°€ (ë¬¸ì œ ë°œê²¬)\n\n**Vertex AI í‰ê°€ ê²°ê³¼**:\n```json\n{\n \"security_issue_detection\": 0.45, // âŒ ë‚®ìŒ! (ëª©í‘œ: 0.9)\n \"iac_best_practices\": 0.78,\n \"terraform_syntax_accuracy\": 0.95\n}\n```\n\n**ë¬¸ì œ**: ë³´ì•ˆ ì´ìŠˆ íƒì§€ìœ¨ì´ 45%ë¡œ ë‚®ìŒ â†’ ì ˆë°˜ ì´ìƒì˜ ë³´ì•ˆ ì´ìŠˆë¥¼ ë†“ì¹¨\n\n---\n\n#### 2ë‹¨ê³„: ë¶„ì„ (ì›ì¸ íŒŒì•…)\n\n**ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:\n```yaml\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤: \"Terraform ì½”ë“œì˜ ë³´ì•ˆ ì´ìŠˆë¥¼ ì°¾ì•„ì¤˜\"\n\nGround Truth (ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ì´ìŠˆ 5ê°œ):\n 1. âœ… IAM ê¶Œí•œ ë„ˆë¬´ ê´‘ë²”ìœ„ (roles/owner)\n 2. âŒ Service Account í‚¤ í•˜ë“œì½”ë”©\n 3. âŒ ì•”í˜¸í™” ë¯¸ì„¤ì •\n 4. âŒ Public ì•¡ì„¸ìŠ¤ í—ˆìš© (allUsers)\n 5. âŒ ë¡œê¹… ë¹„í™œì„±í™”\n\nì—ì´ì „íŠ¸ ë°œê²¬í•œ ì´ìŠˆ:\n - \"IAM ê¶Œí•œ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤\" (1ê°œë§Œ, ëª¨í˜¸)\n\níƒì§€ìœ¨: 1/5 = 0.2 (20%)\n\në¬¸ì œ ì›ì¸:\n âŒ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¶€ì¡±: ì²´ê³„ì ì¸ ë³´ì•ˆ ê²€í†  ì—†ìŒ\n âŒ íŒ¨í„´ ì¸ì‹ ë¶€ì¡±: í•˜ë“œì½”ë”© ë¹„ë°€, Public ì•¡ì„¸ìŠ¤ ë¯¸íƒì§€\n âŒ ìš°ì„ ìˆœìœ„ ë¶€ì¬: ì‹¬ê°ë„ êµ¬ë¶„ ì—†ìŒ\n```\n\n---\n\n#### 3ë‹¨ê³„: ê°œì„  (ì½”ë“œ ìˆ˜ì •)\n\n##### ê°œì„  A: ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë„êµ¬ ì¶”ê°€\n\n**íŒŒì¼**: `/Users/pio/Documents/vibe-with-bigquery/adk-backend/src/adk_backend/tools/infra_security.py` (ì‹ ê·œ)\n\n```python\n\"\"\"\nì¸í”„ë¼ ë³´ì•ˆ ê²€ì‚¬ ë„êµ¬\n\"\"\"\nimport re\nfrom typing import Dict, List\n\n\ndef security_checklist_scan(terraform_code: str) -> Dict:\n \"\"\"\n ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ Terraform ì½”ë“œ ìŠ¤ìº”\n\n Args:\n terraform_code: Terraform ì½”ë“œ ì „ì²´ ë‚´ìš©\n\n Returns:\n ë°œê²¬ëœ ë³´ì•ˆ ì´ìŠˆ ë° ê¶Œì¥ì‚¬í•­\n \"\"\"\n issues = []\n\n # 1. IAM ê¶Œí•œ ê³¼ë‹¤ ì²´í¬\n if re.search(r'roles/(owner|editor)', terraform_code):\n issues.append({\n \"severity\": \"HIGH\",\n \"category\": \"IAM_OVERPRIVILEGED\",\n \"message\":",
      "fileSearchStore": "fileSearchStores/vibebigquerysecurityintelv1-35rbcgvsoufh"
    },
    {
      "source": "RESULTS_SUMMARY_V2.md",
      "content": "í•„ë“œ\n\"\"\"\n```\n\n### 2. ì¤‘ê¸° ê°œì„ \n\n**ë‚˜ë¨¸ì§€ 6ê°œ ì—ì´ì „íŠ¸ í‰ê°€**:\n- Security Agent\n- Conversion Agent\n- Marketing Agent\n- Audio Analytics Agent\n- DevSecOps Agent\n- Conversational Agent\n\n**í‰ê°€ ë°ì´í„°ì…‹ í™•ì¥**:\n- ê° ì—ì´ì „íŠ¸ë‹¹ 10-20ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤\n- Edge case ì¶”ê°€ (ë¹ˆ ê²°ê³¼, ëŒ€ìš©ëŸ‰ ë°ì´í„°, ë³µì¡í•œ JOIN ë“±)\n\n### 3. ì¥ê¸° ê°œì„ \n\n**CI/CD í†µí•©**:\n```yaml\n# .github/workflows/evaluation.yml\nname: Agent Evaluation\non:\n pull_request:\n paths:\n - 'adk-backend/src/adk_backend/agents/**'\n - 'adk-backend/src/adk_backend/tools/**'\njobs:\n evaluate:\n runs-on: ubuntu-latest\n steps:\n - name: Run Vertex AI Evaluation\n run: python scripts/run_evaluation.py --all-agents\n - name: Check Groundedness Threshold\n run: |\n if [ $(jq '.summary.\"groundedness/mean\"' results/latest.json) -lt 0.8 ]; then\n echo \"âŒ Groundedness threshold not met\"\n exit 1\n fi\n```\n\n**ìë™ ê°œì„  ì œì•ˆ**:\n- í‰ê°€ ê²°ê³¼ â†’ ìë™ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸ ê°œì„  ì œì•ˆ ìƒì„±\n- Gemini 2.5 Proë¡œ ë¶„ì„ â†’ ê°œì„ ì•ˆ ìë™ ìƒì„±\n\n---\n\n## ğŸ’° ë¹„ìš© ë¶„ì„ (2ì°¨ í‰ê°€)\n\n**ì‹¤ì œ ë°œìƒ ë¹„ìš©**:\n- ì—ì´ì „íŠ¸ ì‘ë‹µ ìƒì„± (Gemini 2.5 Flash): ~$0.002\n- Ground Truth SQL ì‹¤í–‰ (BigQuery): ~$0.0001 (ë¬´ì‹œ ê°€ëŠ¥)\n- Vertex AI í‰ê°€ (Gemini 1.5 Pro Judge): ~$0.028\n- **ì´ ë¹„ìš©**: ~$0.03 (â‚©40)\n\n**ì›”ê°„ ì˜ˆìƒ ë¹„ìš©** (ì „ì²´ 7ê°œ ì—ì´ì „íŠ¸, ì£¼ 1íšŒ í‰ê°€):\n- 1íšŒ Ã— 7 ì—ì´ì „íŠ¸ Ã— 4ì£¼ = $0.84/ì›” (â‚©1,120/ì›”)\n- **ì—°ê°„**: $10.08 (â‚©13,440)\n\n**í”„ë¡œë•ì…˜ ì¥ì•  1íšŒ ë°©ì§€ ê°€ì¹˜**:\n- ê°œë°œì íˆ¬ì… (8ì‹œê°„): â‚©400,000\n- ê³ ê° ì‹ ë¢° ì†ì‹¤: â‚©2,000,000+\n- **ì´ ê°€ì¹˜**: â‚©2,400,000+\n\n**ì‹¤ì œ ROI**: 178,571% ğŸš€\n\n---\n\n**ì‘ì„±**: Claude (Antigravity DevSecOps Expert)\n**ë‚ ì§œ**: 2025-11-27\n**íŒŒì¼**: `/Users/pio/Documents/vibe-with-bigquery/evaluation/RESULTS_SUMMARY_V2.md`\n",
      "fileSearchStore": "fileSearchStores/vibebigquerysecurityintelv1-35rbcgvsoufh"
    }
  ],
  "model": "gemini-2.5-flash"
}